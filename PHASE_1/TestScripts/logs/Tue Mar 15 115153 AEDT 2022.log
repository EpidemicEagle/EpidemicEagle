============================= test session starts ==============================
platform linux -- Python 3.8.10, pytest-7.0.1, pluggy-1.0.0
rootdir: /mnt/c/Users/selfa/Desktop/GITHUB/EpidemicEagle, configfile: pytest.ini
plugins: anyio-3.5.0
collected 3 items

PHASE_1/API_SourceCode/backend/src/test_old.py ..                        [ 66%]
PHASE_1/TestScripts/test_api.py F                                        [100%]

=================================== FAILURES ===================================
_________________________________ test_search __________________________________

    def test_search():
>       response = client.get("/api/reports/1", params={"start_date":"2018-xx-xx xx:xx:xx", "end_date":"2018-xx-xx xx:xx:xx", "key_terms":"wow,no", "location":"somewhere"})

PHASE_1/TestScripts/test_api.py:29: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
/usr/lib/python3/dist-packages/requests/sessions.py:546: in get
    return self.request('GET', url, **kwargs)
/home/aas/.local/lib/python3.8/site-packages/starlette/testclient.py:468: in request
    return super().request(
/usr/lib/python3/dist-packages/requests/sessions.py:533: in request
    resp = self.send(prep, **send_kwargs)
/usr/lib/python3/dist-packages/requests/sessions.py:646: in send
    r = adapter.send(request, **kwargs)
/home/aas/.local/lib/python3.8/site-packages/starlette/testclient.py:266: in send
    raise exc
/home/aas/.local/lib/python3.8/site-packages/starlette/testclient.py:263: in send
    portal.call(self.app, scope, receive, send)
/home/aas/.local/lib/python3.8/site-packages/anyio/from_thread.py:240: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.8/concurrent/futures/_base.py:444: in result
    return self.__get_result()
/usr/lib/python3.8/concurrent/futures/_base.py:389: in __get_result
    raise self._exception
/home/aas/.local/lib/python3.8/site-packages/anyio/from_thread.py:187: in _call_func
    retval = await retval
/home/aas/.local/lib/python3.8/site-packages/fastapi/applications.py:261: in __call__
    await super().__call__(scope, receive, send)
/home/aas/.local/lib/python3.8/site-packages/starlette/applications.py:112: in __call__
    await self.middleware_stack(scope, receive, send)
/home/aas/.local/lib/python3.8/site-packages/starlette/middleware/errors.py:181: in __call__
    raise exc
/home/aas/.local/lib/python3.8/site-packages/starlette/middleware/errors.py:159: in __call__
    await self.app(scope, receive, _send)
/home/aas/.local/lib/python3.8/site-packages/starlette/exceptions.py:82: in __call__
    raise exc
/home/aas/.local/lib/python3.8/site-packages/starlette/exceptions.py:71: in __call__
    await self.app(scope, receive, sender)
/home/aas/.local/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py:21: in __call__
    raise e
/home/aas/.local/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py:18: in __call__
    await self.app(scope, receive, send)
/home/aas/.local/lib/python3.8/site-packages/starlette/routing.py:656: in __call__
    await route.handle(scope, receive, send)
/home/aas/.local/lib/python3.8/site-packages/starlette/routing.py:259: in handle
    await self.app(scope, receive, send)
/home/aas/.local/lib/python3.8/site-packages/starlette/routing.py:61: in app
    response = await func(request)
/home/aas/.local/lib/python3.8/site-packages/fastapi/routing.py:235: in app
    response_data = await serialize_response(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    async def serialize_response(
        *,
        field: Optional[ModelField] = None,
        response_content: Any,
        include: Optional[Union[SetIntStr, DictIntStrAny]] = None,
        exclude: Optional[Union[SetIntStr, DictIntStrAny]] = None,
        by_alias: bool = True,
        exclude_unset: bool = False,
        exclude_defaults: bool = False,
        exclude_none: bool = False,
        is_coroutine: bool = True,
    ) -> Any:
        if field:
            errors = []
            response_content = _prepare_response_content(
                response_content,
                exclude_unset=exclude_unset,
                exclude_defaults=exclude_defaults,
                exclude_none=exclude_none,
            )
            if is_coroutine:
                value, errors_ = field.validate(response_content, {}, loc=("response",))
            else:
                value, errors_ = await run_in_threadpool(
                    field.validate, response_content, {}, loc=("response",)
                )
            if isinstance(errors_, ErrorWrapper):
                errors.append(errors_)
            elif isinstance(errors_, list):
                errors.extend(errors_)
            if errors:
>               raise ValidationError(errors, field.type_)
E               pydantic.error_wrappers.ValidationError: 4 validation errors for Report
E               response -> diseases
E                 field required (type=value_error.missing)
E               response -> syndromes
E                 field required (type=value_error.missing)
E               response -> event_date
E                 field required (type=value_error.missing)
E               response -> locations
E                 field required (type=value_error.missing)

/home/aas/.local/lib/python3.8/site-packages/fastapi/routing.py:138: ValidationError
=========================== short test summary info ============================
FAILED PHASE_1/TestScripts/test_api.py::test_search - pydantic.error_wrappers...
========================= 1 failed, 2 passed in 13.68s =========================
